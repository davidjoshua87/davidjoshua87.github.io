(function(t){function e(e){for(var a,i,o=e[0],c=e[1],u=e[2],f=0,d=[];f<o.length;f++)i=o[f],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1933:function(t,e,n){"use strict";n("8dec")},"1aa3":function(t,e,n){},"1afe":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXIAAAIsBAMAAAAdZj8gAAAAG1BMVEW9vb3////FxcXm5ube3t7V1dXNzc329vbu7u6rJmYyAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADfElEQVR4nO3WQU8bRxgG4KkB28ecmqsFUd0jwiThiJRFydEqccNxUxqbo+UmkCNqEsLP7szs7BpRpEgVVi/Pg1i+WX+7++4yOxACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwH/Sm0xORvHn+e2LuH12ezgKp5Oo7qVt2Jsc/pb79mJT7ziE/tGXOpSW7oNnqdgeNYMwKzviAQepYVLV7Z69eNj+IyXvX87f/hXC8Gb3/O/Q+7j74SbM5+/m81H8YD4Pi/mH18ep7328YG8Zwu0fvxyNSks+wZv48SCV4zIIVQgXzcm3v8ZNPMXLuuxZxHPWj5X8OoSt45AucZaK5gLlgybCt1xc5uTD2LFzXVqy1TI0x52WwZ3kg3Fziv6y7Ll4pNRt8t4yhxlOh/VDyfPlLi5y8rNQbmXRHX9Tem/K4E7yi3TCVK82lDwsh9Ncbh8/lPw8F1vTlPxbu7NNvj3Nz7qZSs1gnfxkZ7+pN/fM80QNT3qXDyWvctFbpXCrVP90J/kgfuWWdNfdoCRcxq9UxxvYTPKt43GuV2FxsE7+aTb7PV+23MKrmDw92OaFbJOfh/jLSG/ncNQOuuT9/fA8ds7eHrZ7FrPZrH685P2j0CYPr2+65B+r6iQsJkdfQ5N8UD+U/EV6oCHO53E36JJv1em1XVSvvoza5FVVTR8r+dOrz9N18rA4Dndny2L+56ok718/lHyZD4uBq27QJR/k1rS2bOwNzTM3zvP43VuFe/P8rL3m85j7Sdtdku/E38ynUN6AMuiSv6uq19Ncn24seV4Omwda3U/eLJWxGO8uQ55M43Xy4cls9ib+vEntZdAl/zqbvb3O9XhjyfNy2KyJr+4n39lvi4Nls860N1duIk2e0+1pN2iT5yexKmvoppLnOTIepfL5/eTNSpj/mC5zTzehyn3m9XCwHrTJt/fzXab6cGPJw6KO/8GEnTrs/Guel/U87V6mptTbJU+zp5/+/k/Wgzb5sOmL9d715pL3vt9+rkPvZdqW5E+vrq7KJC3X3IoRf/38vVs421cj3k3/5/UgJn8fj73Mxw3qWH8re/J2+Yjps91mO/pRX++HHQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPy//gEo2cMjAP0YFwAAAABJRU5ErkJggg=="},"1c9e":function(t,e,n){"use strict";n("97f4")},2348:function(t,e,n){},5108:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e623"),n("e379"),n("5dc8"),n("37e1");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("header",[n("NavBar")],1),t._v(" "+t._s()+" "),n("body",[n("section",[n("keep-alive",[n("router-view",{key:t.$route.fullPath,on:{"open-modal":t.toggleModal}})],1),t.showModal?n("ItemModal",{on:{"close-modal":t.toggleModal}}):t._e()],1)]),n("footer",[n("Footer")],1)])},s=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal"},[n("div",{staticClass:"overlay",on:{click:t.closeModal}}),n("div",{staticClass:"modal_content"},[n("div",{staticClass:"item_content clearfix"},[t.showItemInfo?[n("aside",{staticClass:"poster"},[n("figure",[n("img",{attrs:{src:t.urlImg}})]),n("ScoreIndicator",{attrs:{score:t.valueRating,size:"70","stroke-width":"5","stroke-color":"#ff6633"}}),n("p",{staticClass:"rating"},[t._v("Total Rating")])],1),n("section",{staticClass:"info"},[n("h1",[t._v(t._s(t.itemInfo.title))]),n("h2",{staticClass:"label"},[t._v("Synopsis")]),n("p",[t._v(t._s(t.itemInfo.overview))]),n("h2",{staticClass:"label"},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:t.icon,size:"1x"}}),t._v(" "+t._s(t.dateLabel))],1),n("p",[t._v(t._s(this.date))]),n("h2",{staticClass:"label"},[t._v("Genres")]),n("ul",t._l(t.genres,(function(e,a){return n("li",{key:a},[t._v(t._s(e))])})),0),n("h2",{staticClass:"label"},[t._v("CAST")]),n("p",[t._v(t._s(t.itemInfo.cast))]),n("h2",{staticClass:"label"},[t._v("Website")]),"N/A"!==t.itemInfo.homepage?n("p",{staticClass:"web"},[n("a",{attrs:{href:t.itemInfo.homepage}},[t._v(t._s(t.itemInfo.homepage))])]):n("p",{staticClass:"web"},[t._v(" --- ")])])]:[t._v("Loading ...")]],2),n("button",{staticClass:"close_modal",attrs:{title:"Close"},on:{click:t.closeModal}},[n("font-awesome-icon",{attrs:{icon:"times",transform:"shrink-6",size:"1x"}})],1)])])},o=[],c=n("5530"),u=(n("b64b"),n("d81d"),n("2f62")),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"display"},[n("div",{staticClass:"circle"},[n("svg",{staticClass:"circle__svg",attrs:{width:t.size,height:t.size}},[n("circle",{staticClass:"circle__progress circle__progress--path",style:t.strokePathStyles,attrs:{cx:t.center,cy:t.center,r:t.radius}}),n("circle",{staticClass:"circle__progress circle__progress--fill",style:t.strokeFillStyles,attrs:{cx:t.center,cy:t.center,r:t.radius}})]),"0"===t.valueDec?n("div",{staticClass:"percent"},[n("span",{staticClass:"percent__int"},[t._v(t._s(t.valueInt))]),n("span",{staticClass:"percent__dec"},[t._v("."+t._s(t.valueDec))])]):t.valueInt>"0"?n("div",{staticClass:"percent"},[n("span",{staticClass:"percent__int"},[t._v(t._s(t.valueInt))]),n("span",{staticClass:"percent__dec"},[t._v(t._s(t.valueDec))])]):n("div",{staticClass:"percent"},[n("span",{staticClass:"percent__int"},[t._v(t._s(t.valueInt))]),n("span",{staticClass:"percent__dec"},[t._v("."+t._s(t.valueDec))])])])])},f=[],d=n("3835"),h=(n("1276"),n("ac1f"),n("a9e3"),{name:"ScoreIndicator",props:["score","size","strokeWidth","strokeColor"],data:function(){return{strokeDasharray:0,strokeDashoffset:0,transitionDuration:0,valueInt:"0.",valueDec:"00"}},computed:{center:function(){return Math.floor(this.size/2)},radius:function(){return this.center-this.strokeWidth},strokePathStyles:function(){return{stroke:this.strokeColor,"stroke-width":this.strokeWidth}},strokeFillStyles:function(){return{stroke:this.strokeColor,"stroke-width":this.strokeWidth,"stroke-dasharray":this.strokeDasharray,"stroke-dashoffset":this.strokeDashoffset,transition:"stroke-dashoffset ".concat(this.transitionDuration,"ms ease")}}},created:function(){this.animateCircle(),this.animateValue()},methods:{animateCircle:function(){var t=this,e=2*Math.PI*this.radius,n=parseFloat(this.score),a=e*((10-n)/10);this.strokeDasharray=e,this.strokeDashoffset=e,this.transitionDuration=900,setTimeout((function(){return t.strokeDashoffset=a,t.strokeDashoffset}),100)},animateValue:function(){var t=String(this.score).split("."),e=Object(d["a"])(t,2),n=e[0],a=e[1],r=[Number(n),Number(a)];n=r[0],a=r[1],a<10&&(a*=10);var s=a>0?".":"";this.increaseValue(n,"int",s);var i=a>0?this.increaseValue(a,"dec"):this.valueDec="0";console.log(i,"x")},increaseValue:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=this.transitionDuration/t,s=0,i=setInterval((function(){s===t&&window.clearInterval(i);var r="int"===e?n.valueInt=s+a:n.valueDec=s;console.log(r,"y"),s+=1}),r)}}}),v=h,m=(n("1933"),n("2877")),p=Object(m["a"])(v,l,f,!1,null,"42a71e57",null),g=p.exports,A=n("1afe"),b=n.n(A),w={name:"ItemModal",components:{ScoreIndicator:g},data:function(){return{}},computed:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["type","itemInfo"])),{},{showItemInfo:function(){return!!Object.keys(this.itemInfo).length},urlImg:function(){return"N/A"!==this.itemInfo.poster?"".concat(this.itemInfo.poster):"".concat(b.a)},valueRating:function(){return"N/A"!==this.itemInfo.imdbRating?this.itemInfo.imdbRating:"0"},genres:function(){return this.itemInfo.genre.map((function(t){return t.toUpperCase()}))},date:function(){return this.itemInfo.year},dateLabel:function(){return this.itemInfo.type},icon:function(){return"movie"===this.itemInfo.type?"film":"tv"}}),methods:{closeModal:function(){this.$emit("close-modal")}}},_=w,y=(n("ccd7"),Object(m["a"])(_,i,o,!1,null,"70754ddc",null)),k=y.exports,I=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},C=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer"},[n("ul",[n("li",[t._v("✔ Created with Vue.js")]),n("li",[t._v(" Data from "),n("a",{attrs:{href:"https://www.themoviedb.org/documentation/api"}},[t._v("The Movie DB")])]),n("li",[t._v(" and "),n("a",{attrs:{href:"http://www.omdbapi.com/"}},[t._v("The Open Movie Database")])]),n("li",[t._v(" © 2021. "),n("a",{attrs:{href:"https://github.com/davidjoshua87"}},[t._v("JDsFlix")])])])])}],M=(n("1c9e"),{}),x=Object(m["a"])(M,I,C,!1,null,"1ef17192",null),T=x.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navigation"},[n("ul",[t._l(t.links,(function(e,a){return n("li",{key:a},[n("router-link",{attrs:{to:e.url},nativeOn:{click:function(e){return t.loadData(e)}}},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:e.icon,transform:e.transform,size:"2x"}}),n("br"),n("span",[t._v(t._s(e.text))])],1)],1)})),n("li",[n("SearchBar")],1)],2)])},R=[],D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-container"},[n("button",[n("font-awesome-icon",{staticClass:"icon-search",attrs:{icon:"search",transform:"shrink-6",size:"2x"}})],1),n("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],attrs:{type:"text",maxlength:"20",placeholder:"Search movie or TV show..."},domProps:{value:t.query},on:{keyup:function(e){return t.search()},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)},input:function(e){e.target.composing||(t.query=e.target.value)}}})])},E=[],j={name:"SearchBar",data:function(){return{query:"",lastQuery:null}},methods:{search:function(){this.query.length>=3&&this.query!==this.lastQuery&&(this.lastQuery=this.query,this.$router.push("/search?q=".concat(this.query)))},resetSearch:function(){this.query=""}}},S=j,N=(n("ce81"),Object(m["a"])(S,D,E,!1,null,"181e918c",null)),P=N.exports,V={name:"NavBar",components:{SearchBar:P},data:function(){return{links:[{url:"/tops",text:"Tops",icon:"star",transform:"shrink-7"}]}},methods:{loadData:function(){window.location.reload()}}},L=V,q=(n("78bb"),Object(m["a"])(L,O,R,!1,null,"f5254fc0",null)),z=q.exports,$={name:"app",components:{NavBar:z,Footer:T,ItemModal:k},data:function(){return{showModal:!1}},created:function(){this.loadInitialData()},mounted:function(){},methods:{loadInitialData:function(){try{this.$store.dispatch("getInitialData")}catch(t){this.error="Error: configuration not loaded"}},toggleModal:function(){this.showModal=!this.showModal}}},X=$,F=(n("d71d"),Object(m["a"])(X,r,s,!1,null,"475728be",null)),G=F.exports,J=n("9483");Object(J["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var U=n("8c4f"),W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("loading",{attrs:{show:t.show,label:t.label}}),n("div",{staticClass:"message"},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showResults,expression:"showResults"}]},[t._v(" Results found for "),n("span",{staticClass:"query"},[t._v(t._s(t.query))]),t._v(" : "+t._s(t.totalResults)+" ")])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showMessage,expression:"showMessage"}]},[n("h2",{staticClass:"title"},[n("font-awesome-icon",{attrs:{icon:"film",size:"1x"}}),t._v(" Result Search ")],1)]),n("ItemList",{attrs:{results:t.results,type:t.type[0],source:"search"},on:{"item-load":t.loadData,"item-clicked":t.viewDetailInfo}})],1)},H=[],B=n("1da1"),Q=(n("96cf"),n("fb6a"),n("d3b7"),n("3ca3"),n("ddb0"),n("b0c0"),n("755b")),Z=n.n(Q),K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"list-group-wrapper"},[n("transition",{attrs:{name:"fade"}},[n("div",[n("ul",t._l(t.results,(function(e,a){return n("ItemCard",t._g({key:a,attrs:{items:e,type:t.type}},t.$listeners))})),1),n("p",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading-text"},[t._v("Loading...")]),n("ring-loader",{staticClass:"loading",attrs:{loading:t.loading,color:t.color,size:t.size}}),n("p",{directives:[{name:"show",rawName:"v-show",value:t.dataEnd,expression:"dataEnd"}],staticClass:"loading"},[t._v("End List Movie")])],1)])],1)},Y=[],tt=n("8a5d"),et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"card"},[n("div",[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.viewDetail(e)}}},[n("figure",[n("img",{attrs:{src:t.urlImg}})]),n("span",{staticClass:"icon-container"},[n("font-awesome-icon",{staticClass:"icon",attrs:{icon:t.icon,size:"1x"}})],1),n("span",{staticClass:"card-title"},[t._v(t._s(t.title))])])])])},nt=[],at={name:"ItemCard",props:["items","type"],computed:{urlImg:function(){return"N/A"!==this.items.Poster?"".concat(this.items.Poster):"".concat(b.a)},mediaType:function(){return"movie"===this.type?this.items.Type:this.type},title:function(){return this.items.Title},icon:function(){return"movie"===this.mediaType?"film":"tv"}},mounted:function(){},methods:{viewDetail:function(){this.$emit("item-clicked",this.items.imdbID,this.mediaType,this.items.Rating)}}},rt=at,st=(n("ace9"),Object(m["a"])(rt,et,nt,!1,null,"4df02066",null)),it=st.exports,ot={name:"ItemList",props:["results","type","source"],components:{ItemCard:it,RingLoader:tt["a"]},data:function(){return{num:5,loading:!1,dataEnd:!1,color:"white",size:"10px"}},created:function(){},computed:Object(c["a"])({},Object(u["b"])(["dataMovies","dataSearch"])),mounted:function(){this.scroll()},methods:{scroll:function(){var t=this;window.onscroll=function(){var e=null;if(e=Math.ceil(document.documentElement.scrollTop+window.innerHeight)===document.documentElement.offsetHeight,e)if(t.dataEnd=!1,!1===t.dataEnd){t.loading=!0;var n=0,a=0;"top"===t.source?(a=t.dataMovies.length,n=a%5):(a=t.dataSearch.length,n=a%5),a-t.num===n?setTimeout((function(){t.$emit("item-load",t.num+n),t.loading=!1,a%5!==0&&(t.dataEnd=!0)}),1e3):setTimeout((function(){t.$emit("item-load",t.num+=5),t.loading=!1}),1e3)}else t.loading=!1;0===document.documentElement.scrollTop&&(t.num=5,t.$emit("item-load",t.num),t.loading=!1,t.dataEnd=!1)}}}},ct=ot,ut=(n("83a1"),Object(m["a"])(ct,K,Y,!1,null,"1b0a00ae",null)),lt=ut.exports,ft=(n("99af"),n("bc3a")),dt=n.n(ft),ht="faf7e5bb",vt=dt.a.create({baseURL:"https://api.themoviedb.org/3"}),mt=dt.a.create({baseURL:"http://www.omdbapi.com/?apikey=".concat(ht,"&page=1&type=movie&Content-Type=application/json")}),pt={API_1:vt,API_2:mt},gt="2285525b5bf098322fa264c99c8429e5",At="en-US",bt="false",wt={getMovieCollection:function(t){return pt.API_2.get("&s=".concat(t))},getSingleMovie:function(t){return pt.API_2.get("&i=".concat(t))},getConfiguration:function(){return pt.API_1.get("configuration?api_key=".concat(gt))},getsearch:function(t){var e="search/multi?api_key=".concat(gt,"&language=").concat(At,"&query=").concat(t,"&page=1&include_adult=").concat(bt);return pt.API_1.get(e)},getTop:function(t){var e="".concat(t,"/top_rated?api_key=").concat(gt,"&language=").concat(At,"&page=1");return pt.API_1.get(e)}},_t={name:"SearchView",components:{ItemList:lt,loading:Z.a},data:function(){return{query:this.$route.query.q,numItems:5,searching:!1,loading:!1,showResults:!1,error:"",results:[],resultsMovie:[],titleMovies:[],type:["movie"],totalResults:null,totalPages:null,show:!1,label:"Loading..."}},computed:Object(c["a"])(Object(c["a"])({},Object(u["b"])(["dataSearch"])),{},{showMessage:function(){return!(!this.searching&&""===this.error)}}),created:function(){this.fetchData()},methods:{loadData:function(t){return this.dataSearch.length>=t&&(this.results=this.dataSearch.slice(0,t)),this.results},fetchData:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){var n,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([wt.getsearch(t.query)]);case 3:n=e.sent,a=Object(d["a"])(n,1),r=a[0],t.resultsMovie=r.data.results,t.resultsMovie=t.sortData(t.resultsMovie),t.resultsMovie.map((function(e){return"tv"===e.media_type&&(e.title=e.name),t.titleMovies.push({title:e.title,rating:e.vote_average}),t.titleMovies})),t.getMovies(t.titleMovies),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),t.error=e.t0;case 15:return e.prev=15,t.show=!0,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})))()},getMovies:function(t){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a=[],r=[],n.next=5,t.map((function(t){return wt.getMovieCollection(t.title).then((function(n){"True"===n.data.Response?(e.searching=!0,e.showResults=!0,a=n.data.Search,a.map((function(n){return void 0!==t.title&&void 0!==n.Title&&(t.title.toLowerCase()===n.Title.toLowerCase()&&(n.Rating=t.rating,r.push(n)),r=e.sortDataRating(r),e.totalResults=r.length,e.$store.dispatch("getSearch",r),setTimeout((function(){e.results=r.slice(0,e.numItems),e.show=!1}),3e3)),e.results}))):(e.error=n.data.Error,e.searching=!1,e.showResults=!1,e.show=!1,e.totalResults=null)}))}));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),e.error=n.t0;case 10:return n.prev=10,e.show=!0,n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,7,10,13]])})))()},viewDetailInfo:function(t,e,n){try{this.$store.dispatch("getItem",{id:t,type:e,rating:n}),this.$emit("open-modal")}catch(a){this.error=a}},sortData:function(t){var e=t.sort((function(t,e){return e.vote_average>t.vote_average?1:-1}));return e},sortDataRating:function(t){var e=t.sort((function(t,e){return e.Rating>t.Rating?1:-1}));return e}}},yt=_t,kt=(n("f91f"),Object(m["a"])(yt,W,H,!1,null,"7a740f68",null)),It=kt.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("loading",{attrs:{show:t.show,label:t.label}}),n("h2",{staticClass:"title"},[n("font-awesome-icon",{attrs:{icon:"film",size:"1x"}}),t._v(" Top Rated Movies ")],1),n("ItemList",{attrs:{results:t.movies,type:t.type[0],source:"top"},on:{"item-load":t.loadData,"item-clicked":t.viewDetailInfo}})],1)},Mt=[],xt={name:"TopsView",components:{ItemList:lt,loading:Z.a},data:function(){return{numItems:5,resultsMovie:[],titleMovies:[],movies:[],resultsTv:[],titleTvs:[],tvs:[],type:["movie"],show:!1,label:"Loading..."}},created:function(){this.fetchTops()},computed:Object(c["a"])({},Object(u["b"])(["dataMovies"])),methods:{loadData:function(t){return this.dataMovies.length>=t&&(this.movies=this.dataMovies.slice(0,t)),this.movies},fetchTops:function(){var t=this;return Object(B["a"])(regeneratorRuntime.mark((function e(){var n,a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([wt.getTop("movie"),wt.getTop("tv")]);case 3:n=e.sent,a=Object(d["a"])(n,2),r=a[0],s=a[1],t.resultsMovie=r.data.results,t.resultsTv=s.data.results,t.resultsMovie=t.sortData(t.resultsMovie),t.resultsTv=t.sortData(t.resultsTv),t.resultsTv.map((function(t){return t.title=t.name,t})),t.resultsMovie=t.resultsMovie.concat(t.resultsTv),t.resultsMovie.map((function(e){return t.titleMovies.push({title:e.title,rating:e.vote_average}),t.titleMovies})),t.getMovies(t.titleMovies),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](0),t.error=e.t0;case 20:return e.prev=20,t.show=!0,e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[0,17,20,23]])})))()},getMovies:function(t){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function n(){var a,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a=[],r=[],s=[],n.next=6,t.map((function(t){return wt.getMovieCollection(t.title).then((function(n){"True"===n.data.Response&&(a=n.data.Search,r=r.concat(a),r.map((function(n){return t.title.toLowerCase()===n.Title.toLowerCase()&&(n.Rating=t.rating,s.push(n)),s=e.sortDataRating(s),e.$store.dispatch("getMovies",s),setTimeout((function(){e.movies=s.slice(0,e.numItems),e.show=!1}),3e3),e.movies})))}))}));case 6:n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),e.error=n.t0;case 11:return n.prev=11,e.show=!0,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[0,8,11,14]])})))()},viewDetailInfo:function(t,e,n){try{this.$store.dispatch("getItem",{id:t,type:e,rating:n}),this.$emit("open-modal")}catch(a){this.error=a}},sortData:function(t){var e=t.sort((function(t,e){return e.vote_average>t.vote_average?1:-1}));return e},sortDataRating:function(t){var e=t.sort((function(t,e){return e.Rating>t.Rating?1:-1}));return e}}},Tt=xt,Ot=(n("ba80"),Object(m["a"])(Tt,Ct,Mt,!1,null,"ccdda370",null)),Rt=Ot.exports;a["a"].use(U["a"]);var Dt=new U["a"]({routes:[{path:"/",redirect:{name:"tops"}},{path:"/tops",name:"tops",component:Rt},{path:"/search",name:"search",component:It}]});a["a"].use(u["a"]);var Et=new u["a"].Store({state:{baseUrl:"",dataMovies:[],dataTvs:[],dataSearch:[],itemInfo:{}},getters:{},mutations:{LOAD_CONF:function(t,e){a["a"].set(t,"baseUrl",e)},RESET_ITEM:function(t){a["a"].set(t,"itemInfo",{})},GET_ITEM:function(t,e){var n=e.type,r=e.info,s=e.rating,i={type:n,poster:r.Poster,title:r.Title,homepage:r.Website,genre:[r.Genre],year:r.Year,runtime:r.Runtime,overview:r.Plot,cast:r.Actors,director:r.Director,production:r.Production,imdbID:r.imdbID,imdbRating:s,totalVote:r.imdbVotes};a["a"].set(t,"itemInfo",i)},GET_MOVIES:function(t,e){a["a"].set(t,"dataMovies",e)},GET_TVS:function(t,e){a["a"].set(t,"dataTvs",e)},GET_SEARCH:function(t,e){a["a"].set(t,"dataSearch",e)}},actions:{getInitialData:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.commit,t.next=3,wt.getConfiguration();case 3:a=t.sent,n("LOAD_CONF",a.data.images.secure_base_url);case 5:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),getItem:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(e,n){var a,r,s,i,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.commit,r=n.id,s=n.type,i=n.rating,a("RESET_ITEM"),t.next=5,Promise.all([wt.getSingleMovie(r)]);case 5:o=t.sent,c=Object(d["a"])(o,1),u=c[0],a("GET_ITEM",{type:s,info:u.data,rating:i});case 9:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),getMovies:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit,a("GET_MOVIES",n);case 2:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),getTvs:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit,a("GET_TVS",n);case 2:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}(),getSearch:function(){var t=Object(B["a"])(regeneratorRuntime.mark((function t(e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e.commit,a("GET_SEARCH",n);case 2:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()}}),jt=n("ecee"),St=n("c074"),Nt=n("ad3d");jt["c"].add(St["a"],St["e"],St["b"],St["d"],St["c"]),a["a"].component("font-awesome-icon",Nt["a"]),a["a"].config.productionTip=!1,new a["a"]({router:Dt,store:Et,render:function(t){return t(G)}}).$mount("#app")},"65f3":function(t,e,n){},"78bb":function(t,e,n){"use strict";n("aa2d")},"7a71":function(t,e,n){},"83a1":function(t,e,n){"use strict";n("9966")},"8dec":function(t,e,n){},"97f4":function(t,e,n){},9966:function(t,e,n){},aa2d:function(t,e,n){},ace9:function(t,e,n){"use strict";n("f3bd")},ba80:function(t,e,n){"use strict";n("7a71")},ccd7:function(t,e,n){"use strict";n("5108")},ce81:function(t,e,n){"use strict";n("2348")},d71d:function(t,e,n){"use strict";n("65f3")},f3bd:function(t,e,n){},f91f:function(t,e,n){"use strict";n("1aa3")}});
//# sourceMappingURL=app.db9f4fcd.js.map